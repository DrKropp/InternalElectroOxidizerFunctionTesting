<!-- Complete project details: https://randomnerdtutorials.com/esp32-web-server-websocket-sliders/ -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#6366f1">
    <title>OrinTech ElectroOxidizer Dashboard</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="topnav">
        <h1>Control Settings</h1>
    </div>
    <div class="content">
        <br>
        <div class="card-grid">
            <div class="card" onclick="selectCard(this)" id="card1">
                <p class="card-title">Voltage</p>
                <p class="state" id="voltage"><span id="FValue1" data-min="10" data-max="26" data-step="0.1">14</span> V</p>
            </div>
            <div class="card" id="card2">
                <p class="card-title">Timing mS</p>
                <p class="state">Forward: +<span id="FValue2" data-min="10" data-max="5000" data-step="5">40</span><span id="FUnit2"> mS</span></p>
                <p class="state">Reverse: -<span id="RValue2" data-min="10" data-max="5000" data-step="5">40</span><span id="RUnit2"> mS</span></p>
                <button id="seconds" class="timing-toggle" onclick="toggleTiming(this)">S</button>
                <button id="milliseconds" class="timing-toggle timing-selected" onclick="toggleTiming(this)">mS</button>
            </div>
        </div>
        <div class="update-container">
            <p class="switch">
                <input type="range" oninput="updateValue()" id="slider" step="0.1" class="slider">
            </p>
            <div class="updated-value-container">
                <div class="tile">
                    <p class="updated-value" id="old"><span>14</span><span id="OldUnit"> mS</span></p>
                    <p class="tile-title" >Old</p>
                </div>
                <div class="tile">
                    <p class="updated-value"><input type="number" id="new" step="0.1" value="14" oninput="syncSlider()"><span id="NewUnit">mS</span></p>
                    <p class="tile-title">New</p>
                </div>
            </div>
            <button id="update-button" class="button">Update Value</button>
        </div>
        <div class="top-grid">
            <div class="display-data">
                <!-- <p class="state">Peak Voltage: +<span id="peakPositiveVoltage">0</span> | -<span id="peakNegativeVoltage">0</span></p> -->
                <p class="state"><span class="label-text">Avg. Pos. Voltage:</span> +<span id="averagePositiveVoltage">0</span></p>
                <p class="state"><span class="label-text">Peak Pos. Voltage:</span> +<span id="peakPositiveVoltage">0</span></p>
                <p class="state"><span class="label-text">Avg. Neg. Voltage:</span> -<span id="averageNegativeVoltage">0</span></p>
                <p class="state"><span class="label-text">Peak Neg. Voltage:</span> -<span id="peakNegativeVoltage">0</span></p>
                <!-- <p class="state">Avg. Voltage: +<span id="averagePositiveVoltage">0</span> | -<span id="averageNegativeVoltage">0</span></p> -->
                <p class="state"><span class="label-text">Avg. Pos. Current:</span> +<span id="averagePositiveCurrent">0</span></p>
                <p class="state"><span class="label-text">Peak Pos. Current:</span> +<span id="peakPositiveCurrent">0</span></p>
                <p class="state"><span class="label-text">Avg. Neg. Current:</span> <span id="averageNegativeCurrent">0</span></p>
                <p class="state"><span class="label-text">Peak Neg. Current:</span> <span id="peakNegativeCurrent">0</span></p>
            </div>
        </div>
        <div class="toggle-container">
            <div class="toggle-card">
                <h2>Device Output</h2>
                <div class="state-indicator">
                    <span class="status-dot" id="status-dot"></span>
                    <span class="status-text" id="status-text">OFF</span>
                </div>
                <button id="toggle-button" class="button toggle-button">
                    <span id="toggle-text">Turn ON</span>
                </button>
            </div>
        </div>
        <div class="log-download-container">
            <button id="download-logs-button" class="button download-button" onclick="downloadLogs()">
                <svg class="download-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                </svg>
                <span class="button-text">Download Data Logs</span>
            </button>
            <p class="log-info">Downloads last 7 days of recorded data</p>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>
